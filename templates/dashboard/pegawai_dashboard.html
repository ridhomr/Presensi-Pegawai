{% extends 'dashboard/base.html' %}
{% load static %}
{% block css %}
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>


{% endblock %}

{% block content %}
    <div class="content-wrapper">
        <section class="content-header" >
            <h1>
                Dashboard
                <small>Control panel</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"></a></li>
                <li class="active"><i class="fa fa-dashboard"></i><a href="{% url 'dashboard' %}">&nbsp;Home</a></li>
                <li class="active">Dashboard</li>
            </ol>
        </section>
        {% load lookup %}
        <section class="content">
            <div class="row" style="font-size: 16px;">

                <div class="col-lg-3 col-xs-6">
                    <div class="small-box border-0 shadow" style="background-image: linear-gradient(to right,#03A9F4,#0043d4);">
                        <div class="inner" >
                            
                            <h3 align="left" style="font-size: 35px; margin: 20px;">{{ c_absen|lookup:0 }}</h3>
                            <p>Hadir</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-checkmark"></i>
                        </div>
                        <a href="{% url 'laporan_index' %}" class="small-box-footer">More info <i
                                class="fa fa-arrow-circle-right"></i></a>

                        <pre align="center" style="font-size: 13px; color: #808080;"><a href="{% url 'visualisasi' %}" style="color: #808080; font-style: bold;">Data Visualization</a> <i class="fa fa-bar-chart"></i></pre>

                    </div>
                </div>
                <div class="col-lg-3 col-xs-6">
                    <div class="small-box border-0 shadow" style="background-image: linear-gradient(to right,#ff2600,#990000);">
                        <div class="inner">
                            <h3 align="left" style="font-size: 35px; margin: 20px;">{{ c_absen|lookup:2 }}</h3>
                            <p>Sakit</p>
                        </div>
                        <div class="icon">
                            <i class="ion-ios-pulse"></i>
                        </div>
                        <a href="{% url 'laporan_index' %}" class="small-box-footer">More info <i
                                class="fa fa-arrow-circle-right"></i></a>
                        <pre align="center" style="font-size: 13px; color: #808080;"><a href="{% url 'visualisasi' %}" style="color: #808080; font-style: bold;">Data Visualization</a> <i class="fa fa-bar-chart"></i></pre>
                    </div>
                </div>
                <div class="col-lg-3 col-xs-6">
                    <div class="small-box border-0 shadow" style="background-image: linear-gradient(to right,#00f030,#00821a);">
                        <div class="inner">
                            <h3 align="left" style="font-size: 35px; margin: 20px;">{{ c_absen|lookup:1 }}</h3>
                            <p>Izin</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-thermometer"></i>
                        </div>
                        <a href="{% url 'laporan_index' %}" class="small-box-footer">More info <i
                                class="fa fa-arrow-circle-right"></i></a>
                        <pre align="center" style="font-size: 13px; color: #808080;"><a href="{% url 'visualisasi' %}" style="color: #808080; font-style: bold;">Data Visualization</a> <i class="fa fa-bar-chart"></i></pre>
                    </div>
                </div>
                <div class="col-lg-3 col-xs-6">
                    <div class="small-box border-0 shadow" style="background-image: linear-gradient(to right,#ff9900,#b36b00);">
                        <div class="inner">
                            <h3 align="left" style="font-size: 35px; margin: 20px;">{{ c_absen|lookup:3 }}</h3>
                            <p>Tanpa Keterangan</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-close-circled"></i>
                        </div>
                        <a href="{% url 'laporan_index' %}" class="small-box-footer">More info <i
                                class="fa fa-arrow-circle-right"></i></a>
                        <pre align="center" style="font-size: 13px; color: #808080;"><a href="{% url 'visualisasi' %}" style="color: #808080; font-style: bold;">Data Visualization</a> <i class="fa fa-bar-chart"></i></pre>
                    </div>
                </div>


                
                <br>
                
                <div class="container">
                <div id="container" style="width: 100%; margin-left:2px;">
                    
                <script>
                    Highcharts.chart('container', {
                      chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie'
                      },
                      title: {
                        text: 'Total Keseluruhan Presensi Departemen Daerah Kab Mempawah, Desember 2021'
                      },
                      tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                      },
                      plotOptions: {
                        pie: {
                          allowPointSelect: true,
                          cursor: 'pointer',
                          dataLabels: {
                            enabled: true,
                            format: '{point.name}: {point.percentage:.1f} %',
                            style: {
                              fontWeight: '500',
                              color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'blue'
                            }
                          }
                        }
                      },

                      series: [{
                        name: 'Orang',
                        colorByPoint: true,
                        data: [{
                          name: 'Masuk',
                          y: 1073.1073,
                          sliced: true,
                          selected: true
                        }, {
                          name: 'Dinas Luar',
                          y: 79.79
                        }, {
                          name: 'Sakit',
                          y: 109.109
                        }, {
                          name: 'Tidak Masuk',
                          y: 206.206
                        }]
                      }]
                    });
                </script>
            </div>
        </div>
        <div class="container">
            <table id="example" class="table table-sm table-dark table-striped table-bordered" style="width:100%">
              <thead class="text-bold">

                <tr>
                  <th scope="col">NO</th>
                  <th scope="col">Nama Departemen</th>
                  <th scope="col">Jumlah Hadir</th>
                  <th scope="col">Jumlah Tidak Hadir</th>
                  <th scope="col">Jumlah Izin</th>
                  <th scope="col">Jumlah Sakit</th>
                  <th scope="col">Jumlah Dinas Luar</th>
                  <th scope="col">Jumlah Cuti</th>
                  <th scope="col">Jumlah Pegawai</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1</th>
                  <td><a href="#">BADAN KEPEGAWAIAN DAN PENGEMBANGAN SUMBER DAYA MANUSIA KABMPW</a></td>
                  <td>22</td>
                  <td>5</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>27</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PENGELOLA ASSET DAERAH KAB MEMPAWAH</a></td>
                  <td>20</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>2</td>
                  <td>0</td>
                  <td>22</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PENANGGULANGAN BENCANA DAERAH KEBMEMPAWAH</a></td>
                  <td>25</td>
                  <td>2</td>
                  <td>3</td>
                  <td>0</td>
                  <td>1</td>
                  <td>0</td>
                  <td>31</td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td><a href="#">BADAN PENGELOLA KEUANGAN DAN ASET DAERAH KABMPW</a></td>
                  <td>10</td>
                  <td>4</td>
                  <td>2</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>16</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PERENCANAAN PEMBANGUNAN DAERAH KAB MEMPAWAH</a></td>
                  <td>29</td>
                  <td>6</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>25</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PENGELOLA PAJAK DAERAH KAB MEMPAWAH</a></td>
                  <td>8</td>
                  <td>2</td>
                  <td>10</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>20</td>
                </tr>
                <tr>
                  <th scope="row">1</th>
                  <td><a href="#">BADAN KEPEGAWAIAN DAN PENGEMBANGAN SUMBER DAYA MANUSIA KABMPW</a></td>
                  <td>22</td>
                  <td>5</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>27</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PENGELOLA ASSET DAERAH KAB MEMPAWAH</a></td>
                  <td>20</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>2</td>
                  <td>0</td>
                  <td>22</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PENANGGULANGAN BENCANA DAERAH KEBMEMPAWAH</a></td>
                  <td>25</td>
                  <td>2</td>
                  <td>3</td>
                  <td>0</td>
                  <td>1</td>
                  <td>0</td>
                  <td>31</td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td><a href="#">BADAN PENGELOLA KEUANGAN DAN ASET DAERAH KABMPW</a></td>
                  <td>10</td>
                  <td>4</td>
                  <td>2</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>16</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PERENCANAAN PEMBANGUNAN DAERAH KAB MEMPAWAH</a></td>
                  <td>29</td>
                  <td>6</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>25</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><a href="#">BADAN PENGELOLA PAJAK DAERAH KAB MEMPAWAH</a></td>
                  <td>8</td>
                  <td>2</td>
                  <td>10</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>20</td>
                </tr>
              </tbody>
            </table>
        </div>
        </div>
        </div>

    </section>
        <!-- /.content -->
    </div>


{% endblock %}


{% block js %}
    <script src="{% static 'plugins/raphael/raphael.min.js' %}"></script>
    <script src="{% static 'plugins/morris.js/morris.min.js' %}"></script>
    <script src="{% static 'plugins/jquery-knob/dist/jquery.knob.min.js' %}"></script>
    <script src="{% static 'plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' %}"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="{% static 'js/sweetalert.min.js' %}"></script>
    <script src="{% static 'plugins/sweetalert/sweetalert.min.js' %}"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        {% for msg in messages %}
            Swal.fire({
              title: 'Selamat Datang Di <b>Diskominfo Mempawah!</b>',
              text: 'Â© 2021 Dinas Komunikasi Dan Informatika Kab. Mempawah.',
              pageSize: 100,
              width: 500,
              height: 400,
              imageWidth: 600,
              imageHeight: 300,
              imageAlt: 'Custom image',
            })
        {% endfor %}
    </script>
    <script src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.print.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#example').DataTable( {
                dom: 'Bfrtip',

                buttons: [
                    { extend: 'copy', className:'btn btn btn-secondary btn-lg btn-rounded', text: '<i class="glyphicon glyphicon-copy" aria-hidden="true"></i>' },
                    
                    { extend: 'print', className:'btn btn-info btn-lg btn-rounded', messageTop:'Informasi dalam tabel ini adalah hak cipta Diskominfo Kab.Mempawah', text: '<i class="glyphicon glyphicon-print" aria-hidden="true"></i>' },

                    { extend: 'pdf', className:'btn btn-danger btn-lg btn-rounded', messageTop:'Informasi dalam tabel ini adalah hak cipta Diskominfo Kab.Mempawah', text: '<i class="glyphicon glyphicon-file" aria-hidden="true">.pdf</i>' },

                    { extend: 'csv', className:'btn btn-success btn-lg btn-rounded', text: '<i class="glyphicon glyphicon-list-alt">.csv</i>'},
                ]
            } );
        } );
    </script>
{% endblock %}